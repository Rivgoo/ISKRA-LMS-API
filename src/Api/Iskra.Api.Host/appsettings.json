{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    },
    "CustomFormater": {
      "TimestampFormat": "yyyy-MM-dd HH:mm:ss",
      "UseUtcTimestamp": true
    }
  },
  "Security": {
    "HostFiltering": {
      "AllowedHosts": "*",
      "AllowEmptyHosts": false,
      "IncludeFailureMessage": false
    },
    "Cors": {
      "DefaultPolicyName": "AllowLocalhost",
      "Policies": [
        {
          "Name": "AllowLocalhost",
          "Origins": [ "https://localhost:5275" ],
          "Methods": [ "GET", "POST", "PUT", "DELETE" ],
          "Headers": [ "*" ],
          "AllowCredentials": true
        },
        {
          "Name": "PublicApi",
          "Origins": [ "*" ],
          "Methods": [ "GET" ],
          "Headers": [ "*" ]
        }
      ]
    }
  },
  "SystemModules": [
    "Iskra.Modules.Validation"
  ],
  "PluginSettings": {
    "EnableCleaner": true,
    "EnabledModules": [
      "Iskra.Modules.MariaDb",
      "Iskra.Modules.Users",
      "Iskra.Modules.Auth"
    ]
  },
  "Iskra.Modules.MariaDb": {
    "ConnectionStrings": {
      "DefaultConnection": "Server=localhost;Database=iskra_lms;User=root;Password=root;"
    },
    "DatabaseSettings": {
      "AutoMigrate": true
    }
  },
  "Iskra.Modules.Validation": {
    "UserValidation": {
      "MinFirstNameLength": 2,
      "MaxFirstNameLength": 80,
      "MinLastNameLength": 2,
      "MaxLastNameLength": 80,
      "MinMiddleNameLength": 0,
      "MaxMiddleNameLength": 80
    },
    "PasswordValidation": {
      "MinLength": 8,
      "MaxLength": 50,
      "RequireDigit": true,
      "RequireLowercase": true,
      "RequireUppercase": true,
      "RequireNonAlphanumeric": false,
      "CustomRegexPattern": null
    },
    "EmailValidation": {
      "MaxEmailLength": 100,
      "RegexPattern": "^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$",
      "AllowedDomains": [ "gmail.com" ]
    }
  },
  "Iskra.Modules.Auth": {
    "SessionCleanup": {
      "Enabled": true,
      "RunIntervalHours": 24,
      "RetentionDays": 180
    },
    "Jwt": {
      "Secret": "PLEASE_CHANGE_THIS_TO_A_VERY_LONG_RANDOM_STRING_AT_LEAST_32_CHARS",
      "Issuer": "Iskra.Api",
      "Audience": "Iskra.Client",
      "AccessTokenExpirationMinutes": 15,
      "RefreshTokenExpirationDays": 1
    },
    "Cookies": {
      "AccessTokenName": "iskra_access",
      "RefreshTokenName": "iskra_refresh",
      "SameSite": "Strict",
      "HttpOnly": true,
      "Secure": true,
      "UsePersistentCookies": true
    }
  }
}
